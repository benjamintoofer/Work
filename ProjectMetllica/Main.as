package  {		import flash.display.MovieClip;	import flash.events.*;	import flash.ui.Keyboard;	import flash.system.System;	import flash.utils.getTimer;	import com.Utils.StageBoundery;	import com.Utils.StatusBox;	import com.PlayerModel.PlayerModel;	import com.PlayerModel.Hero;	import com.events.ChangeWeaponEvent;	import flash.display.BitmapData;		public class Main extends MovieClip {				var statusBox:StatusBox;		var ben:Hero;		var pausedGame:Boolean = false;				//FPS Counter		var fps:int = 0;		var frames:int=0;		var prevTimer:Number=0;		var curTimer:Number=0;				//Weapon Bitmap		var weaponBitmap:BitmapData;				public function Main() {						init();		}		private function init():void		{			//Character			ben = new Hero(stage,stage.stageWidth/2,stage.stageHeight/2,96,226);			parent.addChild(ben);trace(this.parent.getChildAt(1));			//Status Box			statusBox = new StatusBox(stage)			addChild(statusBox);						//Enter Frame Event			stage.addEventListener(Event.ENTER_FRAME,onEnter,false,0,true);						//Key Pressed Event			stage.addEventListener(KeyboardEvent.KEY_DOWN,onKeyPressed,false,0,true);		}		private function onEnter(evt:Event):void		{			if(!pausedGame)			{				//FPS				frames+=1;				curTimer=getTimer();				if(curTimer-prevTimer>=1000)				{					fps = frames*1000/(curTimer-prevTimer);					prevTimer=curTimer;					frames=0;				}							//Hero Update				ben.update();										//Status Box text update				statusBox.text = "FPS: "+fps+"\nMem: "+(System.totalMemoryNumber/100000)+"\nNodes: "+numChildren+"\nVY: "+int((ben.vy)*100)/100+"\nVX: "+int((ben.vx)*100)/100;			}					}		private function onKeyPressed(evt:KeyboardEvent):void		{			if(evt.keyCode == Keyboard.P)			{				if(pausedGame)				{					pausedGame = false;				}else{pausedGame = true;}			}			if(evt.keyCode == Keyboard.NUMBER_1)			{				trace("Sword");				weaponBitmap = new Sword();				var ev:ChangeWeaponEvent = new ChangeWeaponEvent(ChangeWeaponEvent.CHANGE,weaponBitmap,true,false);				this.dispatchEvent(ev);			}			if(evt.keyCode == Keyboard.NUMBER_2)			{				trace("Mace");				weaponBitmap = new Mace();				var ev:ChangeWeaponEvent = new ChangeWeaponEvent(ChangeWeaponEvent.CHANGE,weaponBitmap,true,false);				this.dispatchEvent(ev);			}		}	}	}